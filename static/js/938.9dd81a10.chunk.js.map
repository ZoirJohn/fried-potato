{"version":3,"file":"static/js/938.9dd81a10.chunk.js","mappings":"4LACA,QAA8B,8BAA9B,EAAsE,0BAAtE,EAAuG,uBAAvG,EAAyI,2BAAzI,EAAgL,4BAAhL,EAAyN,6B,0CCKzN,MAAMA,EAAyD,CACzD,CAAC,iBAAkB,qBAAqB,GACxC,CAAC,4BAA6B,eAC9B,CAAC,WAAY,aACb,CAAC,UAAW,YACZ,CAAC,SAAU,UACX,CAAC,YAAa,aACd,CAAC,UAAW,YA8BlB,GAAeC,EAAAA,EAAAA,GAAwB,CAAEC,KAAM,iBAA/C,EAhBiEC,IAErDC,EAAAA,EAAAA,MAAA,QAAMC,SAAUF,EAAMG,aAAcC,UAAWC,EAAiBC,SAAA,EAC1DC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,qBACHT,EAAYW,KAAI,CAACC,EAAOC,KAEbH,EAAAA,EAAAA,KAAA,SAAgBH,UAAWC,EAAkBC,UACtCK,EAAAA,EAAAA,GAA4BF,EAAM,GAAIA,EAAM,GAAI,CAACG,EAAAA,IAAWH,EAAM,KAD7DC,MAKxBH,EAAAA,EAAAA,KAAA,UAAQM,KAAK,SAAQP,SAAC,gB,sBCHxC,MAAMQ,UAAiBC,EAAAA,UACjBC,WAAAA,CAAYhB,GACNiB,MAAMjB,GAAM,KASlBkB,WAAa,KACPC,KAAKC,UAAUC,IAAmB,CAAQC,SAAUD,EAAUC,WAAW,EAC9E,KACDC,eAAiB,KACXJ,KAAKC,UAAUC,IAAmB,CAAQG,aAAcH,EAAUG,eAAe,EAZjFL,KAAKM,MAAQ,CACPH,SAAS,EACTE,aAAa,EACbzB,MAAM,GAEZoB,KAAKD,WAAaC,KAAKD,WAAWQ,KAAKP,MACvCA,KAAKI,eAAiBJ,KAAKI,eAAeG,KAAKP,KACrD,CAOAQ,kBAAAA,GACWR,KAAKM,MAAMH,SACVH,KAAKD,YAEjB,CACAU,MAAAA,GASM,OACM3B,EAAAA,EAAAA,MAAA,MAAIG,UAAWC,EAAmBC,SAAA,EAC5BL,EAAAA,EAAAA,MAAA,KAAGG,UAAWyB,IAAWxB,EAAgB,CAAE,CAACA,GAAcc,KAAKM,MAAMH,QAAS,CAACjB,GAAkBc,KAAKM,MAAMD,cAAelB,SAAA,EACrHC,EAAAA,EAAAA,KAAA,QAAMuB,QAASX,KAAKI,eAAejB,SAAC,MAAQ,gCAEjDa,KAAKnB,MAAM+B,QAAUZ,KAAKnB,MAAMgC,YAC3B/B,EAAAA,EAAAA,MAAAgC,EAAAA,SAAA,CAAA3B,SAAA,EACMC,EAAAA,EAAAA,KAAA,MAAAD,UACMC,EAAAA,EAAAA,KAAA,SAAO2B,SAhBhBC,IACXA,EAAEC,OAAOC,OACPlB,KAAKnB,MAAMsC,UAAUH,EAAEC,OAAOC,MAAM,GAC1C,EAasDxB,KAAK,OAAO0B,YAAY,4BAE5DhC,EAAAA,EAAAA,KAAA,MAAAD,UACMC,EAAAA,EAAAA,KAACiC,EAAiB,IAAKrB,KAAKnB,MAAOE,SAdzCuC,IAClBtB,KAAKnB,MAAM0C,YAAY,IAAKD,EAAUE,SAAU,CAAEC,QAASH,EAASG,QAASC,UAAWJ,EAASI,UAAWC,OAAQL,EAASK,SAAW,SAiB5H,yDAIxB,EAEN,MAQA,GAAeC,EAAAA,EAAAA,KAAuBC,EAAAA,EAAAA,KARbvB,IAAkC,IAADwB,EAAAC,EACpD,MAAO,CACDnB,MAAON,EAAM0B,KAAKzC,GAClBsB,WAAqC,QAA3BiB,EAAExB,EAAM2B,QAAQC,mBAAW,IAAAJ,OAAA,EAAzBA,EAA2BK,OACvCC,QAAkC,QAA3BL,EAAEzB,EAAM2B,QAAQC,mBAAW,IAAAH,OAAA,EAAzBA,EAA2BM,OACzC,GAGoG,CAAElB,UAAS,KAAEI,YAAY,OAAIe,EAAAA,EAAxI,CAA0J3C,E","sources":["webpack://fried-potato/./src/css/Settings.module.css?3a6a","components/settings/SettingsForm.tsx","components/settings/Settings.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"settingsBox\":\"Settings_settingsBox__iKpgv\",\"warning\":\"Settings_warning__bnW7P\",\"warn\":\"Settings_warn__fZR1m\",\"hideWarn\":\"Settings_hideWarn__pWMc0\",\"fieldForm\":\"Settings_fieldForm__Rtq1-\",\"fieldLabel\":\"Settings_fieldLabel__cTpvZ\"};","import { InjectedFormProps, reduxForm } from 'redux-form'\r\nimport styles from '../../css/Settings.module.css'\r\nimport createField from '../../assets/createField'\r\nimport { required } from '../../assets/Validators'\r\nimport React from 'react'\r\n\r\nconst inputFields: Array<[FormKeysValues, string, boolean?]> = [\r\n      ['lookingForAJob', 'Looking for a job', true],\r\n      ['lookingForAJobDescription', 'Description'],\r\n      ['fullName', 'Full name'],\r\n      ['aboutMe', 'About me'],\r\n      ['github', 'GitHub'],\r\n      ['instagram', 'Instagram'],\r\n      ['twitter', 'Twitter'],\r\n]\r\n\r\ntype FormKeysType = {\r\n      lookingForAJob: string\r\n      lookingForAJobDescription: string\r\n      fullName: string\r\n      aboutMe: string\r\n      github: string\r\n      instagram: string\r\n      twitter: string\r\n}\r\ntype FormKeysValues = Extract<keyof FormKeysType, string>\r\n\r\nconst SettingsForm: React.FC<InjectedFormProps<FormKeysType>> = (props) => {\r\n      return (\r\n            <form onSubmit={props.handleSubmit} className={styles.fieldForm}>\r\n                  <h3>Profile Settings</h3>\r\n                  {inputFields.map((input, id) => {\r\n                        return (\r\n                              <label key={id} className={styles.fieldLabel}>\r\n                                    {createField<FormKeysValues>(input[0], input[1], [required], input[2])}\r\n                              </label>\r\n                        )\r\n                  })}\r\n                  <button type='submit'>Submit</button>\r\n            </form>\r\n      )\r\n}\r\n\r\nexport default reduxForm<FormKeysType>({ form: 'settings_data' })(SettingsForm)\r\n","import { withAuthRedirect } from '../../hoc/withAuthRedirect'\r\nimport { compose } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport { savePhoto, saveProfile } from '../../redux/profile-reducer'\r\nimport { ChangeEvent, Component, ComponentType } from 'react'\r\nimport styles from '../../css/Settings.module.css'\r\nimport SettingsFormRedux from './SettingsForm'\r\nimport classNames from 'classnames'\r\nimport { rootStateType } from '../../redux/store'\r\n\r\ntype IState = {\r\n      ownId: number | null\r\n      uploadedId: number | undefined\r\n      payload: any\r\n}\r\ntype IDispatch = {\r\n      savePhoto: (file: any) => void\r\n      saveProfile: (formValues: any) => void\r\n}\r\ntype OwnState = {\r\n      warning: boolean\r\n      hideWarning: boolean\r\n      form: boolean\r\n}\r\ntype IProps = IState & IDispatch\r\ntype FormKeysType = {\r\n      lookingForAJob: string\r\n      lookingForAJobDescription: string\r\n      fullName: string\r\n      aboutMe: string\r\n      github: string\r\n      instagram: string\r\n      twitter: string\r\n}\r\n\r\nclass Settings extends Component<IProps, OwnState> {\r\n      constructor(props: IProps) {\r\n            super(props)\r\n            this.state = {\r\n                  warning: false as boolean,\r\n                  hideWarning: false as boolean,\r\n                  form: false as boolean,\r\n            }\r\n            this.setWarning = this.setWarning.bind(this)\r\n            this.setHideWarning = this.setHideWarning.bind(this)\r\n      }\r\n      setWarning = () => {\r\n            this.setState((prevState: OwnState) => ({ warning: !prevState.warning }))\r\n      }\r\n      setHideWarning = () => {\r\n            this.setState((prevState: OwnState) => ({ hideWarning: !prevState.hideWarning }))\r\n      }\r\n      componentDidUpdate() {\r\n            if (!this.state.warning) {\r\n                  this.setWarning()\r\n            }\r\n      }\r\n      render() {\r\n            const uploadPhoto = (e: ChangeEvent<HTMLInputElement>) => {\r\n                  if (e.target.files) {\r\n                        this.props.savePhoto(e.target.files[0])\r\n                  }\r\n            }\r\n            const formDataSubmit = (formData: FormKeysType) => {\r\n                  this.props.saveProfile({ ...formData, contacts: { twitter: formData.twitter, instagram: formData.instagram, github: formData.github } })\r\n            }\r\n            return (\r\n                  <ul className={styles.settingsBox}>\r\n                        <p className={classNames(styles.warning, { [styles.warn]: this.state.warning, [styles.hideWarn]: this.state.hideWarning })}>\r\n                              <span onClick={this.setHideWarning}>X</span>Picture has been replaced!\r\n                        </p>\r\n                        {this.props.ownId === this.props.uploadedId ? (\r\n                              <>\r\n                                    <li>\r\n                                          <input onChange={uploadPhoto} type='file' placeholder='Change profile photo' />\r\n                                    </li>\r\n                                    <li>\r\n                                          <SettingsFormRedux {...this.props} onSubmit={formDataSubmit} />\r\n                                    </li>\r\n                              </>\r\n                        ) : (\r\n                              'Switch to your account (Go to profile and come back)'\r\n                        )}\r\n                  </ul>\r\n            )\r\n      }\r\n}\r\nconst mapStateToProps = (state: rootStateType): IState => {\r\n      return {\r\n            ownId: state.auth.id,\r\n            uploadedId: state.profile.profileUser?.userId,\r\n            payload: state.profile.profileUser?.photos,\r\n      }\r\n}\r\n\r\nexport default compose<ComponentType>(connect<IState, IDispatch, OwnState, rootStateType>(mapStateToProps, { savePhoto, saveProfile }), withAuthRedirect)(Settings)\r\n"],"names":["inputFields","reduxForm","form","props","_jsxs","onSubmit","handleSubmit","className","styles","children","_jsx","map","input","id","createField","required","type","Settings","Component","constructor","super","setWarning","this","setState","prevState","warning","setHideWarning","hideWarning","state","bind","componentDidUpdate","render","classNames","onClick","ownId","uploadedId","_Fragment","onChange","e","target","files","savePhoto","placeholder","SettingsFormRedux","formData","saveProfile","contacts","twitter","instagram","github","compose","connect","_state$profile$profil","_state$profile$profil2","auth","profile","profileUser","userId","payload","photos","withAuthRedirect"],"sourceRoot":""}