"use strict";(self.webpackChunkfried_potato=self.webpackChunkfried_potato||[]).push([[176],{5176:(s,e,a)=>{a.r(e),a.d(e,{default:()=>S});var t=a(7076);const o="Dialogs_dialogs__sGVYO",c="Dialogs_messages__SG76E",i="Dialogs_profileData__4sg-t",l="Dialogs_contact__QXMsT",n="Dialogs_messageText__cCX8G";var r=a(892),d=a(9256),m=a(9464),h=a(2548),_=a(9060),g=a(2496);const u=(0,r._k)(30),x=(0,r.yi)(2),j=(0,m.c)({form:"AddMessageForm"})((s=>(0,g.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,g.jsx)(d.c,{component:h.E,validate:[u,x],name:"AddMessageForm"}),(0,g.jsx)("button",{children:"Send"})]})));var p=a(5600);const f=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),S=(0,t.A)((s=>{const[e,a]=(0,_.useState)([]);return(0,_.useEffect)((()=>{f.addEventListener("message",(s=>{a((e=>[...e,...JSON.parse(s.data)]))}))}),[]),e.splice(0,16),(0,g.jsxs)("section",{className:`${o} section`,children:[(0,g.jsx)("ul",{className:c,children:e.map(((s,e)=>(0,g.jsxs)("li",{className:i,children:[(0,g.jsx)("div",{className:l,children:(0,g.jsx)("img",{src:s.photo||p,alt:"profilePhoto"})}),(0,g.jsxs)("div",{className:n,children:[(0,g.jsx)("p",{children:s.message}),(0,g.jsx)("h3",{children:s.userName})]})]},e)))}),(0,g.jsx)(j,{onSubmit:s=>{(s=>{f.send(s)})(s.AddMessageForm)}})]})}))}}]);
//# sourceMappingURL=176.b50a30e6.chunk.js.map