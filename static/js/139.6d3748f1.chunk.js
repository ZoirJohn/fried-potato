"use strict";(self.webpackChunkfried_potato=self.webpackChunkfried_potato||[]).push([[139],{7139:(s,e,r)=>{r.r(e),r.d(e,{default:()=>v});var t=r(624),n=r(9060);const i={users:"Users_users__pD0fE",usersBox:"Users_usersBox__u6ZjL",friendsBox:"Users_friendsBox__uM8Kt",user:"Users_user__8vmVS",pageButton:"Users_pageButton__JB+Ml",current:"Users_current__+0S4r",prev:"Users_prev__WMuWl",next:"Users_next__O-AGw",paginatorScrollButton:"Users_paginatorScrollButton__+Qln9",friends:"Users_friends__iwgrM",formInput:"Users_formInput__KlWlX",formBtn:"Users_formBtn__ceDfW"};var o=r(12),l=r(2496);const a=s=>{let{overall:e,pageSize:r,portionSize:t,currentPage:o,setCurrentPageUsers:a}=s,u=Math.ceil(e/r),c=[];for(let n=1;n<=u;n++)c.push(n);const p=Math.ceil(u/t);let[d,h]=(0,n.useState)(1),g=(d-1)*t+1,m=d*t;return(0,l.jsxs)("div",{className:i.paginator,children:[d>1&&(0,l.jsx)("button",{className:i.paginatorScrollButton,id:i.prev,onClick:()=>{h(d-1)},children:"<< PREV"}),c.filter((s=>s>=g&&s<=m)).map(((s,e)=>(0,l.jsx)("button",{className:`${o===s?i.current:""} ${i.pageButton}`,onClick:e=>a(s),children:s},e))),p>d&&(0,l.jsx)("button",{className:i.paginatorScrollButton,id:i.next,onClick:()=>{h(d+1)},children:"NEXT >>"})]})};var u=r(2622);const c=s=>(0,l.jsx)(u.QJ,{initialValues:{name:""},onSubmit:(e,r)=>{let{setSubmitting:t}=r;s.searchUsers(e.name),t(!1)},className:i.formBlank,children:s=>{let{values:e,handleChange:r,handleBlur:t,errors:n,handleSubmit:o,isSubmitting:a}=s;return(0,l.jsxs)("form",{onSubmit:o,children:[(0,l.jsx)("input",{type:"text",name:"name",onChange:r,onBlur:t,value:e.name,className:i.formInput}),n.name,(0,l.jsx)("button",{type:"submit",disabled:a,className:i.formBtn,children:"Submit"})]})}}),p=s=>{let[e,r]=(0,n.useState)(!0);return(0,l.jsxs)("section",{className:i.users,children:[(0,l.jsx)(a,{overall:s.overall,pageSize:s.pageSize,currentPage:s.currentPage,setCurrentPageUsers:s.setCurrentPageUsers,portionSize:3}),(0,l.jsx)("button",{className:i.friends,onClick:()=>r(!e),children:"Friends"}),(0,l.jsx)(c,{searchUsers:s.searchUsers}),(0,l.jsx)("ul",{className:i.usersBox,children:s.usersList.map((e=>(0,l.jsxs)("li",{className:i.user,children:[(0,l.jsx)(o.Af,{to:"/profile/"+e.id,children:(0,l.jsx)("img",{src:"https://icones.pro/wp-content/uploads/2021/04/icone-sourire-violet.png",alt:"MyProfile"})}),(0,l.jsx)("p",{children:e.name}),e.followed?(0,l.jsx)("button",{onClick:()=>s.unfollow(e.id),disabled:s.inProgress.some((s=>s===e.id)),children:"Unfollow"}):(0,l.jsx)("button",{onClick:()=>s.follow(e.id),disabled:s.inProgress.some((s=>s===e.id)),children:"Follow"})]},e.id)))}),e||(0,l.jsx)("ul",{className:i.friendsBox,children:s.friendsList.map((e=>{var r;return(0,l.jsxs)("li",{className:i.user,children:[(0,l.jsx)(o.Af,{to:"/profile/"+e.id,children:(0,l.jsx)("img",{src:(null===(r=e.photos)||void 0===r?void 0:r.small)||"https://icones.pro/wp-content/uploads/2021/04/icone-sourire-violet.png",alt:"MyProfile"})}),(0,l.jsx)("p",{children:e.name}),e.followed?(0,l.jsx)("button",{onClick:()=>s.unfollow(e.id),disabled:s.inProgress.some((s=>s===e.id)),children:"Unfollow"}):(0,l.jsx)("button",{onClick:()=>s.follow(e.id),disabled:s.inProgress.some((s=>s===e.id)),children:"Follow"})]},e.id)}))})]})};var d=r(2604),h=r(9732),g=r(5692),m=r(7076),f=r(5773),x=r(3275);const _=s=>s.users.overall,j=s=>s.users.pageSize,U=s=>s.users.currentPage,P=s=>s.users.isFetching,S=s=>s.users.inProgress,w=(0,x.M3)((s=>s.users.usersList),(s=>s.filter((s=>s))));class b extends n.Component{constructor(){super(...arguments),this.setCurrentPageUsers=s=>{this.props.setCurrentPage(s),this.props.getUsersThunk(this.props.currentPage,this.props.pageSize)}}componentDidMount(){this.props.getUsersThunk(this.props.currentPage,this.props.pageSize),this.props.getFriendsThunk()}render(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.c,{isFetching:this.props.isFetching}),(0,l.jsx)(p,{overall:this.props.overall,pageSize:this.props.pageSize,currentPage:this.props.currentPage,usersList:this.props.usersList,setCurrentPageUsers:this.setCurrentPageUsers,follow:this.props.follow,unfollow:this.props.unfollow,inProgress:this.props.inProgress,friendsList:this.props.friendsList,searchUsers:this.props.searchUsersThunk})]})}}const v=(0,f.Jn)((0,t.Ul)((s=>({usersList:w(s),friendsList:s.users.friendsList,overall:_(s),pageSize:j(s),currentPage:U(s),isFetching:P(s),inProgress:S(s)})),{follow:h.Se,unfollow:h.UV,setCurrentPage:s=>h.wj.setCurrentPage(s),getUsersThunk:h.EN,getFriendsThunk:h.ec,searchUsersThunk:h.wX}),g.A,m.A)(b)}}]);
//# sourceMappingURL=139.6d3748f1.chunk.js.map