"use strict";(self.webpackChunkfried_potato=self.webpackChunkfried_potato||[]).push([[504],{6504:(e,r,n)=>{n.r(r),n.d(r,{default:()=>I});var s=n(624),l=n(4464),i=n(1560),t=n(12),a=n(9060),c=n(9732);const o="Users_users__pD0fE",d="Users_searchForm__EJ8CE",u="Users_searchFormInput__k7JXX";var m=n(2622),h=n(4387),p=n(9390),y=n(8819),j=n(216),f=n(2496);const{Search:x}=p.default,F=(0,a.memo)((e=>{const r=(0,s.w1)(l.ek);return(0,f.jsx)(m.QJ,{enableReinitialize:!0,initialValues:{name:r.term,onlyFriends:String(r.onlyFriends)},onSubmit:(r,n)=>{let{setSubmitting:s}=n;"true"===r.onlyFriends?e.setFilterSearch(r.name,!0):"false"===r.onlyFriends?e.setFilterSearch(r.name,!1):e.setFilterSearch(r.name,null),s(!1)},children:e=>{let{values:r,handleChange:n,handleBlur:s,errors:l,handleSubmit:i,isSubmitting:t}=e;return(0,f.jsxs)("form",{className:d,onSubmit:i,children:[(0,f.jsx)(m.IN,{type:"text",name:"name",onChange:n,onBlur:s,value:r.name,className:u}),(0,f.jsx)(y.c,{title:"search",children:(0,f.jsx)(j.cp,{type:"primary",shape:"circle",icon:(0,f.jsx)(h.c,{}),htmlType:"submit",disabled:t})}),(0,f.jsxs)(m.IN,{name:"onlyFriends",as:"select",children:[(0,f.jsx)("option",{value:"null",children:"All"}),(0,f.jsx)("option",{value:"true",children:"Only followed"}),(0,f.jsx)("option",{value:"false",children:"Only unfollowed"})]})]})}})}));var g=n(1572),v=n(3752),w=n(9196),b=n(1200),S=n(164),k=n(6826),_=n(7912);const N={width:"100%"},C={display:"block",width:73},E=e=>{const r=(0,s.w1)(l.kF),n=(0,s.w1)(l.iY),d=(0,s.w1)(l.Q1),u=(0,s.w1)(l.Ed),m=(0,s.w1)(l.ek),h=(0,s.w1)(l.ol),p=(0,s.OY)(),y=(0,i.i6)(),[x,E]=(0,g.useQueryParam)("term",g.StringParam),[P,Q]=(0,g.useQueryParam)("friend",g.StringParam),[U,I]=(0,g.useQueryParam)("friend",g.NumberParam);(0,a.useEffect)((()=>{const e={term:x,onlyFriends:P,page:U};let r=u,n=m;switch(e.page&&(r=Number(e.page)),e.term&&(n={...n,term:e.term}),e.onlyFriends){case"true":n={...n,onlyFriends:!0};break;case"false":n={...n,onlyFriends:!1};break;case"null":n={...n,onlyFriends:null}}p((0,c.EN)(r,d,n.term,n.onlyFriends))}),[]),(0,a.useEffect)((()=>{y(`/users?term=${m.term}&friend=${m.onlyFriends}&page=${u}`)}),[m,u]);return(0,f.jsxs)(v.c,{className:`${o} section`,children:[(0,f.jsx)(w.c,{span:12,children:(0,f.jsx)(b.c,{defaultCurrent:1,total:n,current:u,onChange:e=>{p((0,c.EN)(e,d,m.term,m.onlyFriends))}})}),(0,f.jsx)(w.c,{span:12,children:(0,f.jsx)(F,{setFilterSearch:(e,r)=>{p((0,c.EN)(1,d,e,r,!0))}})}),(0,f.jsx)(w.c,{span:24,style:{padding:"1em 0"},children:(0,f.jsx)(v.c,{justify:"space-between",children:r.map(((e,r)=>{var n;return(0,f.jsx)(w.c,{span:4,children:(0,f.jsx)(S.c,{hoverable:!0,style:N,styles:{body:{padding:0,overflow:"hidden"}},children:(0,f.jsxs)(k.c,{justify:"center",align:"center",vertical:!0,gap:"1.5em",style:{padding:"2em"},children:[(0,f.jsx)(t.Af,{to:"/profile/"+e.id,children:(0,f.jsx)("img",{src:(null===(n=e.photos)||void 0===n?void 0:n.small)||"https://icones.pro/wp-content/uploads/2021/04/icone-sourire-violet.png",alt:"MyProfile",style:C})}),(0,f.jsxs)(k.c,{vertical:!0,align:"center",justify:"center",children:[(0,f.jsx)(_.c.Title,{level:5,children:e.name}),e.followed?(0,f.jsx)(j.cp,{onClick:()=>{return r=e.id,void p((0,c.UV)(r));var r},disabled:h.some((r=>r===e.id)),type:"primary",children:"Unfollow"}):(0,f.jsx)(j.cp,{onClick:()=>{return r=e.id,void p((0,c.Se)(r));var r},disabled:h.some((r=>r===e.id)),type:"primary",children:"Follow"})]})]})})},r)}))})})]})};var P=n(2604),Q=n(5773),U=n(7076);const I=(0,Q.Jn)(U.A)((()=>{const e=(0,s.w1)(l.OI);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(P.c,{isFetching:e}),(0,f.jsx)(E,{})]})}))}}]);
//# sourceMappingURL=504.e1d415ff.chunk.js.map