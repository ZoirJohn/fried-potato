"use strict";(self.webpackChunkfried_potato=self.webpackChunkfried_potato||[]).push([[504],{6504:(e,r,s)=>{s.r(r),s.d(r,{default:()=>I});var n=s(624),l=s(4464),a=s(1560),i=s(12),t=s(9060),c=s(9732);const o={searchForm:"Users_searchForm__EJ8CE",searchFormInput:"Users_searchFormInput__k7JXX",usersBox:"Users_usersBox__u6ZjL",searchBox:"Users_searchBox__NRdem",card:"Users_card__Mrn9A"};var d=s(2622),u=s(4387),m=s(9390),h=s(8819),p=s(216),x=s(2496);const{Search:y}=m.default,j=(0,t.memo)((e=>{const r=(0,n.w1)(l.ek);return(0,x.jsx)(d.QJ,{enableReinitialize:!0,initialValues:{name:r.term,onlyFriends:String(r.onlyFriends)},onSubmit:(r,s)=>{let{setSubmitting:n}=s;"true"===r.onlyFriends?e.setFilterSearch(r.name,!0):"false"===r.onlyFriends?e.setFilterSearch(r.name,!1):e.setFilterSearch(r.name,null),n(!1)},children:e=>{let{values:r,handleChange:s,handleBlur:n,errors:l,handleSubmit:a,isSubmitting:i}=e;return(0,x.jsxs)("form",{className:o.searchForm,onSubmit:a,children:[(0,x.jsxs)("div",{className:o.searchBox,children:[(0,x.jsx)(d.IN,{type:"text",name:"name",onChange:s,onBlur:n,value:r.name,className:o.searchFormInput}),(0,x.jsx)(h.c,{title:"search",children:(0,x.jsx)(p.cp,{type:"primary",shape:"circle",icon:(0,x.jsx)(u.c,{}),htmlType:"submit",disabled:i})})]}),(0,x.jsxs)(d.IN,{name:"onlyFriends",as:"select",children:[(0,x.jsx)("option",{value:"null",children:"All"}),(0,x.jsx)("option",{value:"true",children:"Only followed"}),(0,x.jsx)("option",{value:"false",children:"Only unfollowed"})]})]})}})}));var f=s(1572),F=s(3752),g=s(9196),v=s(7976),w=s(6436),b=s(164),_=s(6826),k=s(7912);const N={width:"100%"},S={display:"block",width:73},{useBreakpoint:B}=w.default,C=e=>{const r=(0,n.w1)(l.kF),s=(0,n.w1)(l.iY),d=(0,n.w1)(l.Q1),u=(0,n.w1)(l.Ed),m=(0,n.w1)(l.ek),h=(0,n.w1)(l.ol),y=(0,n.OY)(),w=(0,a.i6)(),[B,C]=(0,f.useQueryParam)("term",f.StringParam),[E,P]=(0,f.useQueryParam)("friend",f.StringParam),[U,I]=(0,f.useQueryParam)("friend",f.NumberParam);(0,t.useEffect)((()=>{const e={term:B,onlyFriends:E,page:U};let r=u,s=m;switch(e.page&&(r=Number(e.page)),e.term&&(s={...s,term:e.term}),e.onlyFriends){case"true":s={...s,onlyFriends:!0};break;case"false":s={...s,onlyFriends:!1};break;case"null":s={...s,onlyFriends:null}}y((0,c.EN)(r,d,s.term,s.onlyFriends))}),[]),(0,t.useEffect)((()=>{w(`/users?term=${m.term}&friend=${m.onlyFriends}&page=${u}`)}),[m,u]);return(0,x.jsxs)(F.c,{className:`${o.users} section`,children:[(0,x.jsx)(g.c,{lg:12,sm:24,children:(0,x.jsx)(v.c,{defaultCurrent:1,total:s,current:u,onChange:e=>{y((0,c.EN)(e,d,m.term,m.onlyFriends))},responsive:!0})}),(0,x.jsx)(g.c,{lg:12,sm:24,children:(0,x.jsx)(j,{setFilterSearch:(e,r)=>{y((0,c.EN)(1,d,e,r,!0))}})}),(0,x.jsx)(g.c,{span:24,style:{padding:"1em 0"},className:o.usersBox,children:(0,x.jsx)(F.c,{justify:"space-between",gutter:[5,5],wrap:!0,children:r.map(((e,r)=>{var s;return(0,x.jsx)(g.c,{lg:4,sm:6,xs:24,span:6,children:(0,x.jsx)(b.c,{hoverable:!0,style:N,styles:{body:{padding:0,overflow:"hidden"}},className:o.card,children:(0,x.jsxs)(_.c,{justify:"center",align:"center",vertical:!0,gap:"1.5em",style:{padding:"1.5em"},children:[(0,x.jsx)(i.Af,{to:"/profile/"+e.id,children:(0,x.jsx)("img",{src:(null===(s=e.photos)||void 0===s?void 0:s.small)||"https://icones.pro/wp-content/uploads/2021/04/icone-sourire-violet.png",alt:"MyProfile",style:S})}),(0,x.jsxs)(_.c,{vertical:!0,align:"center",justify:"center",children:[(0,x.jsx)(k.c.Title,{level:5,children:e.name}),e.followed?(0,x.jsx)(p.cp,{onClick:()=>{return r=e.id,void y((0,c.UV)(r));var r},disabled:h.some((r=>r===e.id)),type:"primary",children:"Unfollow"}):(0,x.jsx)(p.cp,{onClick:()=>{return r=e.id,void y((0,c.Se)(r));var r},disabled:h.some((r=>r===e.id)),type:"primary",children:"Follow"})]})]})})},r)}))})})]})};var E=s(2604),P=s(5773),U=s(7076);const I=(0,P.Jn)(U.A)((()=>{const e=(0,n.w1)(l.OI);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(E.c,{isFetching:e}),(0,x.jsx)(C,{})]})}))}}]);
//# sourceMappingURL=504.5f1c669c.chunk.js.map